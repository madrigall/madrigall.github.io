function messageIcon(){TweenMax.set("svg",{visibility:"visible"}),TweenMax.set("#Letter",{x:-1.5,y:52}),TweenMax.set("#EnvelopeBackR",{y:1}),TweenMax.set("#EnvelopeBackL",{y:1}),TweenMax.set("#HappyMouth",{y:-10,drawSVG:"48% 52%",scale:2,transformOrigin:"center center"}),TweenMax.set("#brows",{y:-5});var e=new TimelineMax({paused:!0});e.fromTo("#EnvelopeBackL",.7,{scaleY:-1,transformOrigin:"50% 100%"},{scaleY:1,ease:Power1.easeInOut},"in").fromTo("#EnvelopeBackR",.7,{scaleY:-1,transformOrigin:"50% 100%"},{scaleY:1,ease:Power1.easeInOut},"in").to("#Letter",1.1,{opacity:1,y:-28,ease:Back.easeOut.config(1)},"in+=0.18");var t=new TimelineMax({paused:!0});t.to("#HappyMouth",.4,{y:0,drawSVG:"100%",scale:1,transformOrigin:"center center",ease:Sine.easeOut},"smile").to("#brows",.35,{y:0,ease:Sine.easeOut},"smile");var n=new TimelineMax({delay:.5});n.add(e.play().timeScale(1.1),0).add(t.play(),.62),document.querySelector("#email").addEventListener("click",function(){1==n.progress()?n.reverse():n.play()}),n.timeScale(.95)}function toggleMenu(){document.getElementsByClassName("hamburger")[0].classList.toggle("is-active"),document.getElementsByClassName("header__navigation")[0].classList.contains("header__navigation--mobile_visible")?document.getElementsByClassName("header__navigation")[0].classList.remove("header__navigation--mobile_visible"):document.getElementsByClassName("header__navigation")[0].classList.add("header__navigation--mobile_visible")}function b64EncodeUnicode(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}function hidePreloader(){document.getElementsByClassName("preloader")[0].style.opacity="0",document.getElementsByTagName("html")[0].style.overflow="visible"}function deletePreload(){var e=document.getElementsByClassName("preloader");document.body.removeChild(e[0])}window.onload=function(){setTimeout(hidePreloader,1200),setTimeout(deletePreload,2e3);var e=(new Date).getFullYear();document.getElementsByClassName("year")[0].textContent=e+" "},document.getElementsByClassName("hamburger")[0].onclick=function(){toggleMenu()},document.getElementsByClassName("header__navigation")[0].onclick=function(){toggleMenu()},document.forms.sendmes.addEventListener("submit",function(e){e.preventDefault();var n=document.querySelector(".popup");if(document.querySelector(".popup .loader-wrapper").style.display="block",n.classList.contains("popup--visible"))n.classList.remove("popup--visible");else{document.querySelector(".popup .content__data").style.display="none",n.classList.add("popup--visible");var o=new("onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest);o.open("POST",atob("aHR0cHM6Ly9pbnRlcmZlbW9yYWwtbWFqb3IuMDAwd2ViaG9zdGFwcC5jb20vYWQwNzBkYWFhNTU4ZmI0Yjg4NDk1NzViNGEwMDE0NjYvcG9ydGZvbGlvLnBocA=="),!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onerror=function(e){document.querySelector(".popup .loader-wrapper").style.display="none",document.querySelector(".popup .content__data").style.display="block",document.querySelector(".popup .content footer h2").innerHTML="Your mail has not been sent",document.querySelector(".popup .content footer p").innerHTML="Try again later",setTimeout(function(){n.classList.remove("popup--visible")},3e3)},o.onreadystatechange=function(){if(o.readyState==XMLHttpRequest.DONE&&200==o.status){if(document.querySelector(".popup .loader-wrapper").style.display="none",document.querySelector(".popup .content__data").style.display="block","success"===JSON.parse(o.responseText).status){document.querySelector(".popup .content footer h2").innerHTML="Your mail has been sent",document.querySelector(".popup .content footer p").innerHTML="Please wait for the answer",messageIcon(),document.forms.sendmes.reset();for(var e=document.querySelectorAll(".contacts-wrapper .input--filled"),t=0;t<e.length;++t)e[t].classList.remove("input--filled")}else document.querySelector(".popup .content footer h2").innerHTML="Your mail has not been sent",document.querySelector(".popup .content footer p").innerHTML="Try again later";setTimeout(function(){n.classList.remove("popup--visible")},3e3)}};var t=document.getElementById("contact-name"),a=document.getElementById("contact-email"),i=document.getElementById("contact-message");o.send("name="+b64EncodeUnicode(t.value)+"&email= "+b64EncodeUnicode(a.value)+"&message="+b64EncodeUnicode(i.value))}}),window.onscroll=function(){var r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=document.getElementsByClassName("header__navigation");if("block"!=window.getComputedStyle(document.getElementById("hamburger"),null).display){70<r?(e[0].classList.remove("header__navigation--nofixed"),e[0].classList.add("header__navigation--border","header__navigation--fixed")):(e[0].classList.remove("header__navigation--border","header__navigation--fixed"),e[0].classList.add("header__navigation--nofixed"));var s=document.documentElement.clientTop||document.body.clientTop||0;[].forEach.call(document.getElementsByClassName("navigation__item"),function(e,t,n){var o=e.getElementsByTagName("a");o=o[0].getAttribute("href");var a=document.getElementById(o.slice(1)).getBoundingClientRect(),i=a.top+r-s;i<=r&&i+a.height>r?(e.classList.remove("navigation__item--active"),e.classList.add("navigation__item--active")):e.classList.remove("navigation__item--active")})}},function(){for(var e=document.querySelectorAll('[href^="#"]'),n=0;n<e.length;n++)e[n].addEventListener("click",function(e){e.preventDefault();var i=window.pageYOffset,r=this.href.replace(/[^#]*(.*)/,"$1");t=document.querySelector(r).getBoundingClientRect().top,start=null,requestAnimationFrame(function e(n){null===start&&(start=n);var o=n-start,a=t<0?Math.max(i-o/.4,i+t):Math.min(i+o/.4,i+t);window.scrollTo(0,a);a!=i+t?requestAnimationFrame(e):location.hash=r})},!1)}(),function(){var e;function t(e){classie.add(e.target.parentNode,"input--filled")}function n(e){""===e.target.value.trim()&&classie.remove(e.target.parentNode,"input--filled")}String.prototype.trim||(e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(e,"")}),[].slice.call(document.querySelectorAll("input.input__field")).forEach(function(e){""!==e.value.trim()&&classie.add(e.parentNode,"input--filled"),e.addEventListener("focus",t),e.addEventListener("blur",n)})}();
